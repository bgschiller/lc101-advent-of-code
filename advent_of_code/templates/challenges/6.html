{% extends 'challenge_base.html' %}
{% block puzzle_text %}
  <p>
    In <a href="{{ url_for('challenges_view', day=1) }}">well-wrapped presents</a>, we only had one type of box -- <code>{% raw %} (){% endraw %}</code>. What if we had several? <code>{% raw %} (), {}, [], &lt;&gt;{% endraw %}</code>. We could do a much prettier job of wrapping!
  </p>
  <p>
    Just like in <a href="{{ url_for('challenges_view', day=1) }}">well-wrapped presents</a>, we need to make sure that every left bracket matches with a right bracket. This time, we also need to make sure that the right bracket matches the left one.
  </p>

<p>
  Write a program to tell if a string of brackets represents a possible nesting of boxes. Here are some examples for testing:
</p>
<ul class="example-list">
  <li>
          <code>{% raw %} {% endraw %}</code>
          <div>boxable</div>
  </li>
  <li>
          <code>{% raw %}
            [([([()[((){}[]{})&lt;{}{}&lt;&gt;{}&gt;]])])]{% endraw %}
          </code>
          <div>boxable</div>
  </li>
  <li>
          <code>{% raw %}
            &lt;({[{([&lt;&gt;{}[]]({}()())({}&lt;]()))}({[&lt;&gt;[]{}]((){}[])})(&lt;(()[]){[]{}()}&gt;)][[[{(){}}[&lt;&gt;&lt;&gt;[]]&lt;&lt;&gt;{}&gt;]]&lt;&lt;[[][]][[]]{[]&lt;&gt;}&gt;({{}()()})(&lt;()&gt;{{}[]{}}{[][]}([]()()))[[()()[]{}][{}](&lt;&gt;)]&gt;([([](){})][(&lt;&gt;)(&lt;&gt;)]&lt;{{}}&gt;[[&lt;&gt;()]])]}{(&lt;&lt;[{}]{[]&lt;&gt;{}}&gt;&lt;()&gt;&gt;&lt;([[]&lt;&gt;{}][{}])[[()&lt;&gt;][&lt;&gt;&lt;&gt;]]{{&lt;&gt;{}{}}}&gt;&lt;&lt;{(){}}({}&lt;&gt;)&gt;{{()()&lt;&gt;}(()(){}())}&gt;)[([[()[]]&lt;[]&gt;(()())&lt;()[]&gt;]){{{[]}[()]({})[()()&lt;&gt;]}{&lt;{}{}&gt;}&lt;{[][][]}{{}[][]}&gt;}]}[{(&lt;(&lt;&gt;)&lt;(){}(){}&gt;&lt;&lt;&gt;[]()()&gt;&lt;[]&lt;&gt;()&gt;&gt;{{{}&lt;&gt;}&lt;{}&lt;&gt;&gt;}[(&lt;}&lt;&gt;)]&lt;[&lt;&gt;[]&lt;&gt;]&lt;[][][]&gt;[(][]]&gt;)}([{{&lt;&gt;}{{}{}()()}}([()[]{}]([]()())[[]]{()&lt;&gt;&lt;&gt;&lt;&gt;})]&lt;{(&lt;&gt;)&lt;[]()(){}&gt;{[]{}}[{}&lt;&gt;]}&gt;())()]){[[[{{()}}&lt;{&lt;&gt;{}}(()())&gt;&lt;{{}}&gt;({{}[][]}[&lt;&gt;{}])][&lt;&lt;()&gt;&lt;{}{}()&gt;&lt;()&lt;&gt;[]&gt;([}[][]&lt;&gt;)&gt;()]]][&lt;{{{()[]{}}(()&gt;{}&lt;[][]&lt;&gt;&gt;}&lt;&lt;{}}&lt;(){}{}&gt;([]&lt;&gt;&lt;&gt;)(&lt;&gt;(){})&gt;}&gt;}}[{{&lt;&lt;([]{}())([]{}&lt;&gt;)[&lt;&gt;&lt;&gt;{}{}]&lt;(){}&gt;&gt;&gt;((()&lt;[](){}&gt;)&lt;&lt;()[]&gt;&lt;(){}&gt;&gt;&lt;&lt;&lt;&gt;[]&gt;[](&lt;&gt;)&gt;)}{()()[[{&lt;&gt;{}{}}{{}}{&lt;&gt;{}{}}[]]]&lt;([()])[(&lt;&gt;&lt;&gt;)]&gt;}}]&gt;{% endraw %}
          </code>
          <div>unboxable</div>
  </li>
  <li>
          <code>{% raw %}
            &lt;[[{&lt;[&lt;{}()()()&gt;{[]}]&lt;[()[]]((){})&gt;&gt;[&lt;(&lt;&gt;{}&lt;&gt;)&gt;&lt;&lt;[]&gt;&gt;&lt;&lt;&lt;&gt;{}&gt;({}{})[()()&lt;&gt;]&gt;]}]&lt;({[{{}[]()}(&lt;&gt;[][][]){{}}]{([]())({}[]())}&lt;{&lt;&gt;{}}([]&lt;&gt;){[]{}(){}}{&lt;&gt;}&gt;{&lt;[][]()&gt;{&lt;&gt;{}[]()}{{}{}}}}){&lt;()&lt;([]()()())[{}{}]&gt;&gt;[{[{}](()&lt;&gt;){{}}{{}{}&lt;&gt;()}}[{&lt;&gt;{}}{&lt;&gt;[]&lt;&gt;}]]}&gt;]&gt;{% endraw %}
          </code>
          <div>boxable</div>
  </li>
</ul>
<p>
  When you have an answer, copy your answer below for the following four strings. For example, if you think all are boxable except for the last one, you would write:
  <pre>
boxable
boxable
boxable
unboxable
</pre>
</p>
<ul class="example-list">
  <li>
      <code>{% raw %} {&lt;[{[]&lt;&gt;&lt;&gt;}]([{}&lt;&gt;[]](()[]{})[{}]{()&lt;&gt;&gt;})&lt;[&lt;&gt;&lt;&gt;[]&lt;&gt;]&gt;&gt;&lt;&lt;{(()()[])([]){[]{}&lt;&gt;[]}}[&lt;(){}{}&gt;&lt;&lt;&gt;&lt;&gt;{}&gt;(&lt;&gt;&lt;&gt;&lt;&gt;{})]&gt;}
      {% endraw %}</code> <!--unboxable -->
  </li>
  <li>
    <code>{% raw %} {(([({&lt;[]&gt;}[{[][]}]({{}{}})[&lt;[]&lt;&gt;()&lt;&gt;&gt;])[&lt;{[]}&gt;(&lt;()&lt;&gt;&gt;)][([[]&lt;&gt;]&lt;()&gt;[()])][{{{}}{&lt;&gt;{}[]}[()]}&lt;&gt;&lt;[{}()&lt;&gt;[]][[]()]&lt;[]{}&lt;&gt;&gt;&gt;[&lt;()&gt;]]]{{&lt;{&lt;&gt;{}[]}[()][{}][[]]&gt;}}(&lt;{&lt;{}()&gt;[()]&lt;()&lt;&gt;&lt;&gt;()&gt;}[([]())&lt;()&gt;&lt;{}&lt;&gt;{}&gt;{[]}][{&lt;&gt;{}}[{}]{[][][]}][[()&lt;&gt;]{[]}]&gt;{&lt;&gt;{[{}]}}{{[()]&lt;&lt;&gt;[]()&gt;({})}}{((()&lt;&gt;)&lt;[]{}{}&gt;&lt;{}&lt;&gt;&gt;)}))({&lt;[&lt;()()&lt;&gt;{}&gt;[&lt;&gt;[]&lt;&gt;()][[][]{}]{&lt;&gt;&lt;&gt;}][({})(&lt;&gt;[]{})]{&lt;[][]&lt;&gt;[]&gt;{&lt;&gt;()}[[]{}[]]}&gt;{(({})&lt;()[][]&gt;{()}[])&lt;&gt;[[()](&lt;&gt;[]()&lt;&gt;)]}([{{}}]{&lt;&gt;{}{[]}})&lt;[({})]&lt;[{}]&gt;&gt;})[{}[&lt;&gt;(({[]{}[]}{[][]}))[[({}{}[]&lt;&gt;)][&lt;[]&lt;&gt;&lt;&gt;[]&gt;(&lt;&gt;{}())][[(){}]{[]{}(){}}]]{&lt;{()}&gt;[({}[]{})[[]]([])]{{&lt;&gt;&lt;&gt;}&lt;&lt;&gt;&gt;}}]&lt;[[[[]]]]([&lt;[]&gt;{&lt;&gt;()&lt;&gt;}&lt;&lt;&gt;()[]&gt;]&lt;[(){}]&gt;{{(){}&lt;&gt;}({}[]()())&lt;{}{}&lt;&gt;&gt;})&gt;])}
    {% endraw %}</code><!--boxable-->
  </li>
  <li>
    <code>{% raw %}
      [([({[(()())([]{}())]((()))[[&lt;&gt;]]}[&lt;&gt;(({})){[()()]{&lt;&gt;()[]}&lt;&lt;&gt;[]()&gt;}]{&lt;[[]]&gt;(&lt;()&gt;)})](&lt;(([(){}])){}&gt;[(({&lt;&gt;})&lt;{&lt;&gt;(){}}(&lt;&gt;()){{}()&lt;&gt;}(&lt;&gt;{})&gt;(&lt;()[](){}&gt;([])))(&lt;&lt;{}[][]&gt;&gt;&lt;{}&gt;)][{&lt;&lt;()[]&gt;&lt;{}&gt;&lt;()&lt;&gt;[]&gt;&gt;({&lt;&gt;[]})}{{&lt;&lt;&gt;&lt;&gt;&gt;[&lt;&gt;&lt;&gt;]}&lt;{{}{}}&lt;&lt;&gt;{}(){}&gt;(&lt;&gt;)&lt;&lt;&gt;{}&gt;&gt;}{((&lt;&gt;&lt;&gt;{}))&lt;(()[])[[][]{}]&gt;&lt;[{}[]]&gt;}&lt;(({}{}())([]&lt;&gt;&lt;&gt;)({}{}))[{()()}(&lt;&gt;&lt;&gt;)]&lt;{()&lt;&gt;()}&gt;[{[]}[{}][{}()]]&gt;])(&lt;&lt;&lt;[{}()]&gt;&lt;([]{})(&lt;&gt;{}&lt;&gt;{})&gt;&gt;{{{{}}[{}()()]{[]}}&lt;{&lt;&gt;&lt;&gt;[][]}&lt;&lt;&gt;{}[]&gt;([])&gt;&lt;&lt;{}&gt;{{}()}&gt;}&lt;&lt;&lt;[]&lt;&gt;()&gt;&lt;()&gt;&lt;&lt;&gt;[][]{}&gt;(&lt;&gt;[])&gt;&gt;&gt;{{[{()}]}[[(())]&lt;&lt;&lt;&gt;{}()&gt;({}[]{})&gt;({&lt;&gt;&lt;&gt;&lt;&gt;}([])&lt;(){}[]&gt;)]}))((&lt;[{[()]{{}}{()()}[()(){}]}{[&lt;&gt;[]()]([])}]&lt;&lt;{&lt;&gt;}&gt;({[]&lt;&gt;&lt;&gt;}[(){}])&gt;{[[{}]]}&gt;[[&lt;{[]}&gt;{{{}&lt;&gt;}([])[[]]}]]([({&lt;&gt;()})&lt;&lt;[]{}&gt;{}[()&lt;&gt;]&gt;]))[(({(()[][])}{(&lt;&gt;{}[])})[(&lt;()&gt;)&lt;{{}{}}&lt;[]{}&gt;&lt;{}{}()&gt;&gt;&lt;({})([]{})()(()()[])&gt;]){([&lt;{}(){}&gt;[{}{}&lt;&gt;]{}])&lt;[[][&lt;&gt;&lt;&gt;]{{}}(()()[])]&gt;}{()&lt;[[{}()[]]][]({{}}{[]&lt;&gt;&lt;&gt;}[])&gt;}][(&lt;[&lt;()()[]&gt;&lt;()&gt;]{([](){})}(([][])&lt;&gt;&lt;[]&lt;&gt;&gt;[&lt;&gt;()[]])&gt;(&lt;(()&lt;&gt;)&gt;{[[]()]})){(([&lt;&gt;()[]]))[&lt;([]&lt;&gt;&lt;&gt;())&gt;([()]{{}[]}){[{}()](&lt;&gt;()){()(){}&lt;&gt;}}[(())]]}&lt;{[{{}()}(&lt;&gt;)({}){[]&lt;&gt;(){}}]}&gt;])&lt;&lt;([]{({{}}([]()))({[]()}(&lt;&gt;[])[[]&lt;&gt;])})[&lt;&lt;[()]&lt;[]&gt;&lt;[]()&gt;&gt;[&lt;&lt;&gt;&lt;&gt;()[]&gt;&lt;{}(){}&gt;[&lt;&gt;{}&lt;&gt;]]((()())&lt;[]&gt;())&gt;&lt;({[][]&lt;&gt;}(&lt;&gt;[]{})({}{})&lt;[]{}&lt;&gt;()&gt;)&gt;[([[]](&lt;&gt;)&lt;[][]&gt;)]]{([[[](){}]][[&lt;&gt;]([][])])}&gt;([(&lt;[&lt;&gt;]&lt;{}[]{}&gt;&gt;[[()[]]([]{})[[][][]]([])]([()&lt;&gt;]))((&lt;[]&lt;&gt;&gt;{}[&lt;&gt;]())&lt;&gt;)[&lt;([])&lt;&lt;&gt;{}&gt;&lt;&lt;&gt;&gt;(&lt;&gt;[])&gt;[&lt;&lt;&gt;(){}&gt;{&lt;&gt;{}{}&lt;&gt;}]{(&lt;&gt;)}]][([[(){}]([]&lt;&gt;)({})]({()&lt;&gt;}))]){&lt;[[[()()]{{}}(&lt;&gt;())(&lt;&gt;{}&lt;&gt;)]&lt;()[]()&gt;(&lt;&gt;{}[][])&lt;&lt;&gt;(){}&gt;(()&lt;&gt;)&gt;((&lt;&gt;()())&lt;{}&lt;&gt;[]&lt;&gt;&gt;[[]()]{{}()[]{}})][{[&lt;&gt;]}[(&lt;&gt;()(){})][{}]]&gt;{&lt;{[&lt;&gt;]&lt;{}&lt;&gt;&gt;(()()())}[&lt;[]{}()&lt;&gt;&gt;(()[]&lt;&gt;[]){&lt;&gt;&lt;&gt;(){}}[&lt;&gt;]](([]())&lt;{}&gt;(()()))([[]{}()][{}()[]]){{{[]()}{()}(())}([&lt;&gt;])}[()]}}&gt;]
    {% endraw %}</code> <!--unboxable -->
  </li>
  <li>
    <code>{% raw %} [[&lt;{(&lt;&lt;{}&lt;&gt;[]&gt;{{}{}(){}}([][]()&lt;&gt;)&gt;[(())[()()()][&lt;&gt;&lt;&gt;{}]])[{}{(&lt;&gt;)}[[{}]([]())]&lt;&gt;]}&gt;[({&lt;{[]()[]}{}&gt;(&lt;()[]&gt;{(){}})}&lt;{[()]}&lt;&lt;{}()&lt;&gt;&gt;({}[][][])&gt;&gt;((({})&lt;&lt;&gt;&lt;&gt;&gt;{{}&lt;&gt;}[[][]{}[]])[&lt;&lt;&gt;[][]{}&gt;[()[]{}][&lt;&gt;()]{&lt;&gt;()&lt;&gt;[]}]))[(((()[][])[[]()[]](&lt;&gt;()[]()))&lt;[[]]&gt;{{()()}{()[]}({}())[[][]&lt;&gt;&lt;&gt;]})({{()}[(){}()](()())}){{[&lt;&gt;()()&lt;&gt;]}{{{}}&lt;{}&gt;[[]{}][&lt;&gt;]}[([](){}&lt;&gt;)(()[])]}][([{&lt;&gt;()()}&lt;{}&gt;{&lt;&gt;()}]([{}])&lt;{{}[]}[{}{}{}]&gt;){[&lt;()[]&gt;][(&lt;&gt;){&lt;&gt;[]&lt;&gt;[]}&lt;(){}()[]&gt;&lt;[][]&gt;]}]{(&lt;{&lt;&gt;&lt;&gt;}&lt;()&gt;{{}()&lt;&gt;()}&lt;&lt;&gt;()&gt;&gt;&lt;[()]&lt;()&lt;&gt;{}&gt;{{}&lt;&gt;&lt;&gt;}&gt;){{&lt;{}&lt;&gt;{}&lt;&gt;&gt;(()[]{}{})}{}}}][&lt;&lt;{{{}}{&lt;&gt;}([]()[])[]}&lt;&lt;()()[]&gt;(()())&lt;()&gt;&lt;()[]()()&gt;&gt;&gt;(((&lt;&gt;{})&lt;&lt;&gt;&gt;){&lt;[]&lt;&gt;&gt;[{}{}{}]&lt;&lt;&gt;&lt;&gt;&gt;}{{()}([]{}())})&gt;[{[[[]()&lt;&gt;[]]{{}()}]([()&lt;&gt;()&lt;&gt;]{[]}[[]])[{&lt;&gt;}[]]{(&lt;&gt;){&lt;&gt;&lt;&gt;()}&lt;[]{}&lt;&gt;{}&gt;&lt;(){}[]&gt;}}{&lt;&lt;{}[]()&gt;&lt;{}()&gt;&gt;}]]]]
    {% endraw %}</code>
  </li>
</ul>
{% endblock puzzle_text %}
